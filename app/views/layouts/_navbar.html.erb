<div class="navbar navbar-inverse navbar-fixed-top">

  <div class="container-fluid">

    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-inverse-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <%= link_to 'Julia Observer', root_path, class: "navbar-brand" %>
    </div>

    <div class="navbar-collapse collapse navbar-inverse-collapse">

      <form class="navbar-form navbar-left">
        <div class="form-group">
          <%= text_field_tag :search, params[:search], data: { autocomplete: autocomplete_package_name_packages_path }, class: "form-control col-sm-8", placeholder: "Search" %>
        </div>
      </form>

      <ul class="nav navbar-nav navbar-right">

        <li class="<%= (controller_name == 'home') ? 'active' : '' %>">
          <%= link_to 'Home', root_path %>
        </li>

        <% unless controller_name == 'home' %>

          <li class="<%= (action_name == 'index') ? 'active' : '' %>">
            <%= link_to controller_name.titleize, send("#{controller_name}_path") %>
          </li>

          <% unless action_name == 'index' %>

            <li class="active">
              <% case action_name %>
              <% when 'show' %>
                <%= link_to truncate(params[:id], length: 25), send("#{controller_name.singularize}_path"), @model %>
              <% when 'edit' %>
                <%= link_to truncate(params[:id], length: 25), send("edit_#{controller_name.singularize}_path"), @model %>
              <% when 'new' %>
                <%= link_to 'New', send("new_#{controller_name.singularize}_path") %>
              <% else %>
                <a>ruh roh</a>
              <% end %>
            </li>

          <% end %>

        <% end %>

        <li class="dropdown">
          <a href="index.html" data-target="#" class="dropdown-toggle" data-toggle="dropdown">
            <b class="caret"></b></a>
          <ul class="dropdown-menu">
            <li><a href="javascript:void(0)">Action</a></li>
            <li><a href="javascript:void(0)">Another action</a></li>
            <li><a href="javascript:void(0)">Something else here</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Dropdown header</li>
            <li><a href="javascript:void(0)">Separated link</a></li>
            <li><a href="javascript:void(0)">One more separated link</a></li>
          </ul>
        </li>
      </ul>

    </div>

  </div>

</div>
